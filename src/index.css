/* Self-hosted fonts via @fontsource (GDPR compliant) */
@import '@fontsource/inter/400.css';
@import '@fontsource/inter/400-italic.css';
@import '@fontsource/inter/500.css';
@import '@fontsource/inter/600.css';
@import '@fontsource/inter/700.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   OwnChart Design System - "Refined Craft" Aesthetic
   ============================================================================
   A professional, trustworthy design language befitting a privacy-first tool.
   Characterized by: subtle depth, refined typography, purposeful color.
   Self-hosted fonts - GDPR compliant, no external requests.
   ============================================================================ */

:root {
  /* Typography - Self-hosted fonts */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: ui-monospace, 'SF Mono', 'Fira Code', monospace;

  font-family: var(--font-sans);
  line-height: 1.5;
  font-weight: 400;
  letter-spacing: -0.011em;

  color-scheme: light;
  color: #1e293b; /* slate-800 */
  background-color: #ffffff;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* ─── Color Palette ─── */
  /* Primary: Deep indigo - trustworthy, professional */
  --color-primary-50: #eef2ff;
  --color-primary-100: #e0e7ff;
  --color-primary-200: #c7d2fe;
  --color-primary-300: #a5b4fc;
  --color-primary-400: #818cf8;
  --color-primary-500: #334155;
  --color-primary-600: #4f46e5;
  --color-primary-700: #4338ca;
  --color-primary-800: #3730a3;
  --color-primary-900: #312e81;

  /* Accent: Warm amber for highlights and actions */
  --color-accent-400: #fbbf24;
  --color-accent-500: #f59e0b;
  --color-accent-600: #d97706;

  /* Surface colors - subtle warmth */
  --color-surface: #ffffff;
  --color-surface-raised: #fafbfc;
  --color-surface-sunken: #f1f5f9;
  --color-surface-overlay: rgba(255, 255, 255, 0.95);

  /* Borders */
  --color-border-subtle: #e2e8f0;
  --color-border-default: #cbd5e1;
  --color-border-strong: #94a3b8;

  /* Text colors - WCAG AA compliant (4.5:1 minimum on white) */
  --color-text-primary: #0f172a;   /* ~16:1 contrast */
  --color-text-secondary: #475569; /* ~7:1 contrast */
  --color-text-tertiary: #64748b;  /* ~4.5:1 contrast - AA compliant */
  --color-text-muted: #64748b;     /* ~4.5:1 contrast - upgraded from #94a3b8 */
  --color-text-disabled: #9ca3af;  /* ~3:1 contrast - acceptable for disabled UI */
  --color-text-placeholder: #6b7280; /* ~5:1 contrast - AA compliant */

  /* Semantic colors */
  --color-success: #059669;
  --color-warning: #d97706;
  --color-error: #dc2626;
  --color-info: #0284c7;

  /* ─── Shadows - Refined elevation system ─── */
  --shadow-xs: 0 1px 2px rgba(15, 23, 42, 0.04);
  --shadow-sm: 0 1px 3px rgba(15, 23, 42, 0.06), 0 1px 2px rgba(15, 23, 42, 0.04);
  --shadow-md: 0 4px 6px -1px rgba(15, 23, 42, 0.07), 0 2px 4px -1px rgba(15, 23, 42, 0.04);
  --shadow-lg: 0 10px 15px -3px rgba(15, 23, 42, 0.08), 0 4px 6px -2px rgba(15, 23, 42, 0.04);
  --shadow-xl: 0 20px 25px -5px rgba(15, 23, 42, 0.1), 0 10px 10px -5px rgba(15, 23, 42, 0.04);
  --shadow-inner: inset 0 2px 4px rgba(15, 23, 42, 0.04);
  /* Focus ring - high visibility for accessibility */
  --shadow-focus: 0 0 0 2px #ffffff, 0 0 0 4px #1e40af;

  /* ─── Radii ─── */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-full: 9999px;

  /* ─── Transitions ─── */
  --transition-fast: 100ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 300ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* UI Density - Default: Normal (Sprint 1.5.9.1) */
  --density-row-height: 36px;
  --density-task-bar-height: 26px;
  --density-task-bar-offset: 5px;
  --density-cell-padding-y: 6px;
  --density-cell-padding-x: 10px;
  --density-header-padding-y: 12px;
  --density-font-size-cell: 15px;
  --density-font-size-bar: 12px;
  --density-font-size-header: 11px;
  --density-icon-size: 16px;
  --density-checkbox-size: 16px;
  --density-indent-size: 18px;
}

/* Compact density mode - 28px rows, shows more tasks */
.density-compact {
  --density-row-height: 28px;
  --density-task-bar-height: 20px;
  --density-task-bar-offset: 4px;
  --density-cell-padding-y: 4px;
  --density-cell-padding-x: 8px;
  --density-header-padding-y: 8px;
  --density-font-size-cell: 14px;
  --density-font-size-bar: 11px;
  --density-font-size-header: 10px;
  --density-icon-size: 14px;
  --density-checkbox-size: 14px;
  --density-indent-size: 16px;
}

/* Comfortable density mode - 44px rows, easier to read (original) */
.density-comfortable {
  --density-row-height: 44px;
  --density-task-bar-height: 32px;
  --density-task-bar-offset: 6px;
  --density-cell-padding-y: 8px;
  --density-cell-padding-x: 12px;
  --density-header-padding-y: 16px;
  --density-font-size-cell: 16px;
  --density-font-size-bar: 13px;
  --density-font-size-header: 12px;
  --density-icon-size: 18px;
  --density-checkbox-size: 18px;
  --density-indent-size: 20px;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

#root {
  width: 100%;
}

/* Custom color input styling to hide native browser elements */
input[type="color"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 0;
  border: none;
}

input[type="color"]::-webkit-color-swatch-wrapper {
  padding: 0;
}

input[type="color"]::-webkit-color-swatch {
  border: none;
  border-radius: 0.25rem;
}

input[type="color"]::-moz-color-swatch {
  border: none;
  border-radius: 0.25rem;
}

input[type="color"]:focus-visible {
  outline: 2px solid #1e40af;
  outline-offset: 2px;
}

/* ─── Custom Checkbox Styling (Figma-like) ─── */
input[type="checkbox"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1.5px solid #94a3b8;
  border-radius: 3px;
  background: white;
  cursor: pointer;
  display: grid;
  place-content: center;
  transition: all 150ms ease;
  flex-shrink: 0;
}

input[type="checkbox"]:hover {
  border-color: #64748b;
}

input[type="checkbox"]:checked {
  background: #475569;
  border-color: #475569;
}

input[type="checkbox"]::before {
  content: '';
  width: 5px;
  height: 9px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: scale(0) rotate(45deg);
  transform-origin: center;
  transition: transform 120ms ease-in-out;
}

input[type="checkbox"]:checked::before {
  transform: scale(1) rotate(45deg);
}

input[type="checkbox"]:indeterminate {
  background: #475569;
  border-color: #475569;
}

input[type="checkbox"]:indeterminate::before {
  width: 10px;
  height: 2px;
  background: white;
  border: none;
  transform: scale(1);
}

input[type="checkbox"]:focus-visible {
  outline: 2px solid #1e40af;
  outline-offset: 2px;
}

input[type="checkbox"]:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ─── Custom Radio Button Styling (Figma-like) ─── */
input[type="radio"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border: 1.5px solid #94a3b8;
  border-radius: 50%;
  background: white;
  cursor: pointer;
  display: grid;
  place-content: center;
  transition: all 150ms ease;
  flex-shrink: 0;
}

input[type="radio"]:hover {
  border-color: #64748b;
}

input[type="radio"]:checked {
  border-color: #475569;
}

input[type="radio"]::before {
  content: '';
  width: 8px;
  height: 8px;
  background: #475569;
  border-radius: 50%;
  transform: scale(0);
  transition: transform 120ms ease-in-out;
}

input[type="radio"]:checked::before {
  transform: scale(1);
}

input[type="radio"]:focus-visible {
  outline: 2px solid #1e40af;
  outline-offset: 2px;
}

/* ─── Custom Select Styling ─── */
select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-color: white;
  border: 1px solid #cbd5e1;
  border-radius: 4px;
  padding: 4px 24px 4px 8px;
  font-size: 12px;
  color: #334155;
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='%2364748b' d='M5 7L1 3h8z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 6px center;
  transition: border-color 150ms ease;
}

select:hover {
  border-color: #94a3b8;
}

select:focus {
  outline: 2px solid #1e40af;
  outline-offset: 1px;
  border-color: #64748b;
}

/* ─── Utility Classes ─── */

/* Monospace for data/numbers */
.font-mono {
  font-family: var(--font-mono);
  font-feature-settings: 'tnum' on, 'lnum' on;
}

/* Text utilities */
.text-balance {
  text-wrap: balance;
}

/* Scrollbar styling */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border-default) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: var(--color-border-default);
  border-radius: var(--radius-full);
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-strong);
}

/* ─── Animations ─── */

/* Zoom indicator animation (Sprint 1.2 Package 3) */
@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.95);
  }
  15% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  85% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.95);
  }
}

.animate-fade-in-out {
  animation: fadeInOut 1.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Fade in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn var(--transition-slow) ease-out;
}

/* Modal entrance */
@keyframes modalIn {
  from {
    opacity: 0;
    transform: scale(0.96) translateY(8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.animate-modal-in {
  animation: modalIn 200ms cubic-bezier(0.34, 1.56, 0.64, 1);
}
